<?php
/**
 * config.php.example
 * Archivo de configuración de ejemplo
 * 
 * INSTRUCCIONES:
 * 1. Copia este archivo como config.php
 * 2. Actualiza los valores con tus credenciales reales
 * 3. NO subas config.php a Git
 */

// =============================================================================
// CONFIGURACIÓN DE LA BASE DE DATOS
// =============================================================================

define('DB_HOST', 'localhost');           // Host de la base de datos
define('DB_USER', 'root');                // Usuario de la base de datos
define('DB_PASS', '');                    // Contraseña de la base de datos
define('DB_NAME', 'curseforge_manager');  // Nombre de la base de datos

// =============================================================================
// CONFIGURACIÓN DE LA API DE CURSEFORGE
// =============================================================================

// Obtén tu API Key desde: https://console.curseforge.com/
define('CURSEFORGE_API_KEY', 'TU_API_KEY_AQUI');

// URL base de la API de CurseForge
define('CURSEFORGE_API_BASE', 'https://api.curseforge.com');

// =============================================================================
// CONFIGURACIÓN DE LA APLICACIÓN
// =============================================================================

// Zona horaria
date_default_timezone_set('America/Mexico_City');

// Configuración de sesiones
ini_set('session.cookie_httponly', 1);
ini_set('session.use_strict_mode', 1);
ini_set('session.cookie_secure', 0); // Cambia a 1 si usas HTTPS

// =============================================================================
// FUNCIONES DE UTILIDAD
// =============================================================================

/**
 * Obtiene los headers necesarios para las peticiones a la API de CurseForge
 * @return array Headers HTTP
 */
function get_curseforge_api_headers() {
    return [
        'Content-Type: application/json',
        'Accept: application/json',
        'x-api-key: ' . CURSEFORGE_API_KEY
    ];
}

/**
 * Establece una conexión con la base de datos
 * @return mysqli Objeto de conexión
 * @throws Exception Si la conexión falla
 */
function get_db_connection() {
    $conn = new mysqli(DB_HOST, DB_USER, DB_PASS, DB_NAME);
    
    if ($conn->connect_error) {
        error_log("Error de conexión a la base de datos: " . $conn->connect_error);
        throw new Exception("Error de conexión a la base de datos");
    }
    
    $conn->set_charset("utf8mb4");
    return $conn;
}

?>
